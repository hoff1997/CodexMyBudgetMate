# ============================================
# My Budget Mate - Environment Variables
# ============================================
# Copy this file to .env.local and fill in your values
# NEVER commit .env.local to version control!
# ============================================

# --- Vercel / Next.js ---
NEXT_PUBLIC_SITE_URL=https://your-vercel-domain.vercel.app

# --- Supabase ---
# Get these from your Supabase project dashboard: Settings > API
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
SUPABASE_JWT_SECRET=your-jwt-secret-here
SUPABASE_RECEIPTS_BUCKET=receipts

# --- Akahu (NZ Open Banking) ---
# Get these from https://developers.akahu.nz
AKAHU_APP_TOKEN=your-akahu-app-token
AKAHU_CLIENT_ID=your-akahu-client-id
AKAHU_CLIENT_SECRET=your-akahu-client-secret
AKAHU_REDIRECT_URI=https://your-app.vercel.app/api/akahu/oauth/callback
# Webhook secret for verifying Akahu webhook signatures (optional)
# Set this if you've configured webhooks in your Akahu dashboard
AKAHU_WEBHOOK_SECRET=your-akahu-webhook-secret

# --- Upstash Redis (for rate limiting & Akahu API caching) ---
# Get these from https://console.upstash.com/
# Optional: If not set, caching will be disabled
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-token-here

# --- Security Secrets (REQUIRED) ---
# Generate with: openssl rand -hex 32
# These are MANDATORY - the app will fail to start without them
KID_SESSION_SECRET=generate-a-64-char-hex-string-here
CSRF_SECRET=generate-a-64-char-hex-string-here
CRON_SECRET=generate-a-64-char-hex-string-here

# --- Deployment flags ---
NODE_ENV=development

# --- Background jobs ---
CRON_TARGET_URL=http://localhost:3000/api/jobs/run
JOB_TARGET_URL=https://your-app.vercel.app/api/jobs/run

# --- Google Calendar API (optional) ---
# Get these from https://console.cloud.google.com
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
NEXT_PUBLIC_GOOGLE_REDIRECT_URI=https://your-app.vercel.app/api/calendar/callback

# --- Stripe (Subscriptions) ---
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# --- Beta Mode ---
# Set to "true" to bypass subscription checks (development/beta)
BETA_MODE=true
