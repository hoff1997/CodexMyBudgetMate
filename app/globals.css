@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: 0 0% 100%;
  --foreground: 222.2 47.4% 11.2%;
  --muted: 210 40% 96.1%;
  --muted-foreground: 215.4 16.3% 46.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 222.2 47.4% 11.2%;
  --card: 0 0% 100%;
  --card-foreground: 222.2 47.4% 11.2%;
  --border: 214.3 31.8% 91.4%;
  --input: 214.3 31.8% 91.4%;
  --primary: 174 62% 28%;
  --primary-foreground: 355 100% 97%;
  --secondary: 222.2 47.4% 11.2%;
  --secondary-foreground: 210 40% 98%;
  --accent: 210 40% 96.1%;
  --accent-foreground: 222.2 47.4% 11.2%;
  --destructive: 0 100% 50%;
  --destructive-foreground: 0 85.7% 97.3%;
  --ring: 215 20.2% 65.1%;
  --radius: 0.75rem;

  /* ========================================
     STYLE GUIDE COLORS (My Budget Mate)
     ======================================== */

  /* Sage - Positives (surplus, on track, funded) */
  --sage: #7A9E9A;
  --sage-dark: #5A7E7A;
  --sage-light: #B8D4D0;
  --sage-very-light: #E2EEEC;

  /* Blue - Negatives / Info (debt, over budget, review items) */
  --blue: #6B9ECE;
  --blue-light: #DDEAF5;

  /* Silver - UI Structure (borders, backgrounds, disabled) */
  --silver: #9CA3AF;
  --silver-light: #E5E7EB;
  --silver-very-light: #F3F4F6;

  /* Gold - Celebrations (milestones, achievements) */
  --gold: #D4A853;
  --gold-light: #F5E6C4;

  /* Text Colors */
  --text-dark: #3D3D3D;
  --text-medium: #6B6B6B;
  --text-light: #9CA3AF;

  /* Background */
  --bg-white: #FFFFFF;
}

.dark {
  --background: 210 40% 12%;
  --foreground: 210 40% 98%;
}

body {
  @apply bg-background text-foreground;
  font-feature-settings: "rlig" 1, "calt" 1;
}

main {
  @apply min-h-screen;
}

/* Onboarding Budget Manager Table - Fixed column widths like allocation page */
.onboarding-envelope-table {
  table-layout: fixed !important;
  width: 100%;
}

.onboarding-envelope-table th {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  vertical-align: middle;
}

.onboarding-envelope-table td {
  vertical-align: middle;
  /* Don't use overflow: hidden on td - it clips dropdown menus */
}

/* Ensure all inputs/selects/buttons fit within cells */
.onboarding-envelope-table td input,
.onboarding-envelope-table td select {
  max-width: 100%;
  box-sizing: border-box;
}

/* Envelope name cell (first data column) - allow wrapping */
.onboarding-envelope-table td:first-child {
  white-space: normal;
}

/* ========================================
   REMY HELP PANEL ANIMATIONS
   ======================================== */

@keyframes slide-in-right {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

.animate-slide-in-right {
  animation: slide-in-right 0.2s ease-out;
}

/* ========================================
   ULTRA-COMPACT PRINT STYLES
   ======================================== */

@media print {
  /* ----- HIDE EVERYTHING UNNECESSARY ----- */
  nav,
  aside,
  .sidebar,
  footer,
  button,
  [role="button"],
  .no-print,
  [data-no-print],
  [data-radix-popper-content-wrapper],
  [class*="HelpPanel"],
  [class*="HelpButton"],
  [class*="RemyHelp"],
  .page-description,
  .screen-only,
  header,
  .tabs,
  .tab-list,
  [role="tablist"],
  .envelope-card,
  .envelope-grid,
  [class*="envelope-card"],
  [class*="EnvelopeCard"],
  .progress-bar,
  [class*="progress"],
  .stats-grid,
  .stats-cards,
  .summary-cards,
  [class*="stats-card"],
  [class*="summary-card"],
  [class*="MetricCard"],
  [class*="CreditCard"],
  .mobile-nav {
    display: none !important;
  }

  /* ----- PAGE SETUP - LANDSCAPE FOR TABLES ----- */
  @page {
    margin: 0.5cm;
    size: A4 landscape;
  }

  html,
  body {
    font-size: 8pt !important;
    line-height: 1.2 !important;
    margin: 0 !important;
    padding: 0 !important;
    background: white !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* ----- RESET ALL SPACING ----- */
  main,
  .main-content {
    width: 100% !important;
    max-width: 100% !important;
    padding: 0.5cm !important;
    margin: 0 !important;
  }

  /* ----- COMPACT HEADER ----- */
  .print-header {
    display: flex !important;
    justify-content: space-between !important;
    align-items: baseline !important;
    border-bottom: 1px solid #000 !important;
    padding-bottom: 2pt !important;
    margin-bottom: 4pt !important;
    font-size: 9pt !important;
  }

  .print-header h1 {
    font-size: 11pt !important;
    font-weight: bold !important;
    margin: 0 !important;
  }

  .print-header .date {
    font-size: 8pt !important;
    color: #666 !important;
  }

  /* ----- STATS AS SINGLE LINE ----- */
  .print-stats {
    display: flex !important;
    gap: 12pt !important;
    font-size: 8pt !important;
    padding: 3pt 0 !important;
    border-bottom: 1px solid #ccc !important;
    margin-bottom: 6pt !important;
  }

  .print-stats .stat {
    display: inline !important;
  }

  .print-stats .stat-label {
    color: #666 !important;
  }

  .print-stats .stat-value {
    font-weight: 600 !important;
  }

  /* ----- ENVELOPE TABLE ----- */
  .print-envelope-table {
    width: 100% !important;
    border-collapse: collapse !important;
    font-size: 8pt !important;
  }

  .print-envelope-table th {
    text-align: left !important;
    font-weight: 600 !important;
    font-size: 7pt !important;
    text-transform: uppercase !important;
    color: #666 !important;
    border-bottom: 1px solid #000 !important;
    padding: 2pt 4pt !important;
  }

  .print-envelope-table th.amount {
    text-align: right !important;
    width: 60pt !important;
  }

  .print-envelope-table th.percent {
    text-align: right !important;
    width: 30pt !important;
  }

  .print-envelope-table td {
    padding: 1pt 4pt !important;
    border-bottom: 0.5pt solid #eee !important;
    vertical-align: middle !important;
  }

  .print-envelope-table td.amount {
    text-align: right !important;
    font-family: monospace !important;
    font-size: 7pt !important;
  }

  .print-envelope-table td.percent {
    text-align: right !important;
    font-size: 7pt !important;
    color: #666 !important;
  }

  /* Category rows */
  .print-envelope-table tr.category {
    background: #f5f5f5 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  .print-envelope-table tr.category td {
    font-weight: 600 !important;
    font-size: 8pt !important;
    padding-top: 4pt !important;
    padding-bottom: 2pt !important;
    border-bottom: 0.5pt solid #ccc !important;
    text-transform: uppercase !important;
  }

  /* Envelope name indented under category */
  .print-envelope-table td.envelope-name {
    padding-left: 8pt !important;
  }

  /* Funded status colours */
  .print-envelope-table .funded {
    color: #5A7E7A !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  .print-envelope-table .underfunded {
    color: #6B9ECE !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  .print-envelope-table .negative {
    color: #c00 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* ----- FOOTER ----- */
  .print-footer {
    margin-top: 6pt !important;
    padding-top: 3pt !important;
    border-top: 1px solid #ccc !important;
    font-size: 7pt !important;
    color: #666 !important;
    display: flex !important;
    justify-content: space-between !important;
  }

  /* Show print-only elements */
  .print-only {
    display: block !important;
  }
}

/* Hide print-only elements on screen */
@media screen {
  .print-only,
  .print-header,
  .print-stats,
  .print-envelope-table,
  .print-footer {
    display: none !important;
  }
}
